# MantisDB Production Configuration

server:
  port: 8080
  admin_port: 8081
  host: "0.0.0.0"
  # TLS configuration (uncomment for HTTPS)
  # tls_cert: "/etc/mantisdb/certs/server.crt"
  # tls_key: "/etc/mantisdb/certs/server.key"

database:
  data_dir: "/var/lib/mantisdb"
  wal_dir: "/var/lib/mantisdb/wal"
  cache_size: "512MB"
  buffer_size: "128MB"
  use_cgo: false
  sync_writes: true
  max_connections: 1000
  query_timeout: "30s"

backup:
  enabled: true
  schedule: "0 2 * * *"  # Daily at 2 AM
  retention_days: 30
  destination: "/var/backups/mantisdb"
  compression: true
  encryption: false

logging:
  level: "info"
  format: "json"
  output: "stdout"
  file_path: "/var/log/mantisdb/mantisdb.log"
  max_size: "100MB"
  max_backups: 5
  max_age: 30
  compress: true

memory:
  gc_percent: 100
  eviction_policy: "lru"
  max_memory: "2GB"

security:
  admin_token: ""  # Set via environment variable MANTIS_ADMIN_TOKEN
  enable_cors: false
  cors_origins: []
  rate_limit: 1000
  enable_auth: false

health:
  enabled: true
  check_interval: "30s"
  timeout: "10s"
  endpoint: "/health"