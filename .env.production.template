# MantisDB Production Environment Configuration
# Copy this file to .env.production and customize for your environment

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
MANTIS_ENV=production
MANTIS_HOST=0.0.0.0
MANTIS_PORT=8080
MANTIS_ADMIN_PORT=8081

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# Maximum concurrent connections
MANTIS_MAX_CONNECTIONS=1000

# Connection pool size
MANTIS_POOL_SIZE=100

# Cache size in bytes (1GB = 1073741824)
MANTIS_CACHE_SIZE=1073741824

# Number of worker threads (0 = auto-detect)
MANTIS_WORKER_THREADS=0

# Enable compression for data storage
MANTIS_ENABLE_COMPRESSION=true

# Compression level (1-9, higher = better compression but slower)
MANTIS_COMPRESSION_LEVEL=6

# ============================================================================
# SECURITY
# ============================================================================
# Enable TLS/SSL
MANTIS_ENABLE_TLS=false

# TLS certificate and key paths (required if TLS enabled)
# MANTIS_TLS_CERT=/path/to/cert.pem
# MANTIS_TLS_KEY=/path/to/key.pem

# JWT secret for authentication (CHANGE THIS!)
MANTIS_JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING

# Rate limiting (requests per second per IP)
MANTIS_RATE_LIMIT=1000

# Enable CORS
MANTIS_ENABLE_CORS=true

# Allowed CORS origins (comma-separated)
MANTIS_CORS_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com

# Session timeout (in seconds)
MANTIS_SESSION_TIMEOUT=3600

# ============================================================================
# STORAGE
# ============================================================================
# Data directory
MANTIS_DATA_DIR=/data

# Write-Ahead Log directory
MANTIS_WAL_DIR=/wal

# Backup directory
MANTIS_BACKUP_DIR=/backups

# Sync writes to disk (true = safer, false = faster)
MANTIS_SYNC_WRITES=true

# WAL buffer size in bytes (16MB = 16777216)
MANTIS_WAL_BUFFER_SIZE=16777216

# Checkpoint interval (in seconds)
MANTIS_CHECKPOINT_INTERVAL=300

# ============================================================================
# LOGGING
# ============================================================================
# Log level: debug, info, warn, error
MANTIS_LOG_LEVEL=info

# Log format: json, text
MANTIS_LOG_FORMAT=json

# Log output file
MANTIS_LOG_FILE=/var/log/mantisdb/mantisdb.log

# Maximum log file size in MB
MANTIS_LOG_MAX_SIZE=100

# Maximum number of old log files to keep
MANTIS_LOG_MAX_BACKUPS=10

# Maximum age of log files in days
MANTIS_LOG_MAX_AGE=30

# Log slow queries
MANTIS_LOG_SLOW_QUERIES=true

# Slow query threshold (in milliseconds)
MANTIS_SLOW_QUERY_THRESHOLD=100

# ============================================================================
# MONITORING
# ============================================================================
# Enable Prometheus metrics
MANTIS_ENABLE_METRICS=true

# Metrics port
MANTIS_METRICS_PORT=9090

# Health check interval (in seconds)
MANTIS_HEALTH_CHECK_INTERVAL=30

# Enable profiling (pprof)
MANTIS_ENABLE_PROFILING=false

# Profiling port
MANTIS_PROFILING_PORT=6060

# ============================================================================
# ADMIN UI
# ============================================================================
# Admin dashboard enabled
MANTIS_ADMIN_ENABLED=true

# Default admin credentials (CHANGE THESE!)
MANTIS_ADMIN_EMAIL=admin@mantisdb.io
MANTIS_ADMIN_PASSWORD=CHANGE_THIS_PASSWORD

# ============================================================================
# DATABASE FEATURES
# ============================================================================
# Enable Row Level Security
MANTIS_ENABLE_RLS=true

# Enable SQL query engine
MANTIS_ENABLE_SQL=true

# Enable transactions
MANTIS_ENABLE_TRANSACTIONS=true

# Transaction timeout (in seconds)
MANTIS_TRANSACTION_TIMEOUT=30

# ============================================================================
# BACKUP & RECOVERY
# ============================================================================
# Enable automatic backups
MANTIS_AUTO_BACKUP=true

# Backup interval (in hours)
MANTIS_BACKUP_INTERVAL=24

# Backup retention (in days)
MANTIS_BACKUP_RETENTION=7

# Backup compression
MANTIS_BACKUP_COMPRESSION=true

# ============================================================================
# ADVANCED SETTINGS
# ============================================================================
# Maximum request body size in bytes (10MB = 10485760)
MANTIS_MAX_REQUEST_SIZE=10485760

# Read timeout (in seconds)
MANTIS_READ_TIMEOUT=30

# Write timeout (in seconds)
MANTIS_WRITE_TIMEOUT=30

# Idle timeout (in seconds)
MANTIS_IDLE_TIMEOUT=120

# Graceful shutdown timeout (in seconds)
MANTIS_SHUTDOWN_TIMEOUT=30

# Enable request ID tracking
MANTIS_ENABLE_REQUEST_ID=true

# Enable distributed tracing
MANTIS_ENABLE_TRACING=false

# Tracing endpoint (e.g., Jaeger)
# MANTIS_TRACING_ENDPOINT=http://localhost:14268/api/traces
